<!DOCTYPE html>
<head>
  <title>Cursed Translators</title>
  <link rel="icon" href="icon.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Cursed Translators</h1>
  <h2>sssssssssssssssssssssssssssss</h2>
  <hr>
  <div class="translator" data-type="cheenese" id="Translator">
  <span id="TranslatorText">
Cheenese Translator™ (yes that's that actual name i gave this)
<br> bassically just caesar cipher but rebranded 
</span>
<br>
    <textarea class="input" placeholder="Enter text here..."></textarea>

  <div class="buttons">
    <button onclick="encode(this)">Encode</button>
    <button onclick="decode(this)">Decode</button>
    <button onclick="pasteText(this)">Paste</button>
    <button onclick="copyText(this)">Copy</button>
  </div>

  <textarea class="output" placeholder="Output..." readonly></textarea>
</div>
<hr>
  <div id="Translator" class="translator" data-type="cataneese">
  <span id="TranslatorText">Cataneese Translator™ (yet again yes that's that actual name i gave this)
    This one is interesting because it’s mostly original, and its format is somewhat similar to assembly code.
    <br>
    <br>
    The syntax works like this:
    Text (for example, “egg”) is converted into numbers based on each letter’s position in the alphabet.
    Each number also includes the letter’s case (uppercase or lowercase).
    <br>
    <br>
    All of this is stored in an array format. For example:
    egg → TEXT[5[LOW], 7[LOW], 7[LOW]]
    <br>
    <br>
    Spaces are represented using SPACE. Spacing is handled automatically between consecutive TEXT entries.
    Line breaks are represented by LINEBREAK.
    <br>
    <br>
    And that’s the full format of Cataneese. that was a long one
  </span>
    <textarea class="input" placeholder="Enter text here..."></textarea>

  <div class="buttons">
    <button onclick="encode(this)">Encode</button>
    <button onclick="decode(this)">Decode</button>
    <button onclick="pasteText(this)">Paste</button>
    <button onclick="copyText(this)">Copy</button>
  </div>

  <textarea class="output" placeholder="Output..." readonly></textarea>
</div>
<hr>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<h4>No Translators harmed in the making of this website</h4>
<h5>© DiaviceCat 2026</h5>
</body>
<script>
/* ---------- Utilities ---------- */

function getWidget(btn) {
  return btn.closest(".translator");
}

function pasteText(btn) {
  navigator.clipboard.readText().then(text => {
    getWidget(btn).querySelector(".input").value = text;
  });
}

function copyText(btn) {
  const out = getWidget(btn).querySelector(".output").value;
  navigator.clipboard.writeText(out);
}

/* ---------- Encode / Decode ---------- */

function encode(btn) {
  const widget = getWidget(btn);
  const type = widget.dataset.type;
  const input = widget.querySelector(".input").value;

  widget.querySelector(".output").value =
    type === "cheenese"
      ? cheeneseEncode(input)
      : cataneeseEncode(input);
}

function decode(btn) {
  const widget = getWidget(btn);
  const type = widget.dataset.type;
  const input = widget.querySelector(".input").value;

  widget.querySelector(".output").value =
    type === "cheenese"
      ? cheeneseDecode(input)
      : cataneeseDecode(input);
}

/* ---------- Cheenese (Caesar Cipher, shift 3) ---------- */

function cheeneseEncode(text) {
  return text.replace(/[a-z]/gi, c => {
    const base = c <= "Z" ? 65 : 97;
    return String.fromCharCode((c.charCodeAt(0) - base + 3) % 26 + base);
  });
}

function cheeneseDecode(text) {
  return text.replace(/[a-z]/gi, c => {
    const base = c <= "Z" ? 65 : 97;
    return String.fromCharCode((c.charCodeAt(0) - base + 23) % 26 + base);
  });
}

/* ---------- Cataneese ---------- */

function cataneeseEncode(text) {
  let out = [];
  let currentWord = [];

  for (let char of text) {
    if (char === " ") {
      if (currentWord.length > 0) {
        out.push(`TEXT[${currentWord.join(", ")}]`);
        currentWord = [];
      }
      out.push("SPACE");
    } 
    else if (char === "\n") {
      if (currentWord.length > 0) {
        out.push(`TEXT[${currentWord.join(", ")}]`);
        currentWord = [];
      }
      out.push("LINEBREAK");
    } 
    else if (/[a-z]/i.test(char)) {
      const pos = char.toLowerCase().charCodeAt(0) - 96;
      const caseType = char === char.toUpperCase() ? "UP" : "LOW";
      currentWord.push(`${pos}[${caseType}]`);
    }
  }

  // flush last word
  if (currentWord.length > 0) {
    out.push(`TEXT[${currentWord.join(", ")}]`);
  }

  return out.join("\n");
}

function cataneeseDecode(text) {
  let out = "";

  const lines = text.split(/\n+/);

  for (let line of lines) {
    if (line === "SPACE") {
      out += " ";
    } 
    else if (line === "LINEBREAK") {
      out += "\n";
    } 
    else {
      const match = line.match(/TEXT\[(.+)\]/);
      if (!match) continue;

      const letters = match[1].split(", ");

      for (let letter of letters) {
        const parts = letter.match(/(\d+)\[(UP|LOW)\]/);
        if (!parts) continue;

        let char = String.fromCharCode(Number(parts[1]) + 96);
        if (parts[2] === "UP") char = char.toUpperCase();
        out += char;
      }
    }
  }

  return out;
}
</script>
